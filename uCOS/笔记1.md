该笔记整理自野火的 从0到1教你写uCOS-III，一边练习一边记录。  
- 裸机程序与多任务系统  
　 　裸机系统是我们刚学单片机时，最先接触到的写法。主程序进入main函数，一堆初始化，然后一个while(1)死循环，要执行的事件都放在里面。需要立即响应的事件，用中断处理。  
　 　裸机系统分为轮询系统和前后台系统。轮询系统即所有的事件都是按照顺序一件一件的执行，比如有3件事情要做，大家排队一件一件执行，A没有执行完，B就得等着。事件都是通过查询的方式执行，例如按下一个按键点亮一个LED，那么判断按下按键就是通过查询电平是否改变实现的，如果系统有别的事情要做，按下按键的时候没有运行到相应的代码，那就会漏判。按下按键需要消斗，最初学的写法就是死等个几个毫秒，然后再查询电平是否改变。这几个毫秒会拖累整个系统不能流畅执行，这就是轮询系统的弊端，各个任务之间有干扰，如果一个任务执行的时间很长，必然会拖累别的任务的执行。当然它的优点就是写法简单，代码量小。用在小型的功能中是比较合适的。  
　 　前后台系统本质和轮询系统类似，加入了中断，这样紧急的事情可以立即响应到，比如上面提到的按键，不管之前一个任务耗时多长，只要按键按下，就能立即中断响应，不会漏判。若要执行的任务非常紧急或者时间很短，可以直接在中断中处理。否则建议在中断中置个标志，然后在外部轮询中查询该标志处理事件。因为在中断中停留的时间不宜过久。轮询的部分叫做前台，中断的部分叫做后台，所以该种方式称作前后台系统。前后台分工合作，基本所有的嵌入式开发都能用这种方式实现，可以说是无所不能。很多老工程师做了很多年的嵌入式开发，他们都是用这种方式开发产品的。本人也是用这种方式做了好几年的开发。  
　 　除了裸机程序，还有多任务系统。多任务系统引入了任务的概念。事件的处理是在任务中完成，任务和中断一样，有优先级。每个任务都是一个while(1)的死循环，这样开发者在编程的时候，精力可以更多的花在编写功能上，不用管每个模块是否相互干扰。裸机程序就必须要协调好各个模块，裸机程序的代码一定要跑起来，不能有堵塞。而多任务系统就可以有堵塞，因为每个任务本身就是一个死循环。它通过操作系统这一“外部力量”，让代码在各个死循环中切换。  
